This folder should contain all scripts necessary to repeat the results of the
accompanying paper. Some of the scripts stand alone, while others are driver
scripts that call on a large number of subsidiary scripts to automate an
analysis pipeline. For the most part, scripts have been described in detail at
the header of each script. For comments or questions, please send an email to
alfred.simkin@gmail.com

****************Scripts that stand on their own include:*******************

1. populate_real_mers.py - locates miRNA seeds shared among multiple species

2. remove_mir_subset.py - Combines output from multiple species and removes
miRNA seeds from one group of files that are found in another

3. get_star_seqs.py - works out the seeds that are complementary to the most
deeply conserved miRNA of those from the above 2 scripts and prints these

4. real_vs_exp3.py - compares observed substitution events to expected (as x
and y coordinates), calculates the number of points in a fixed Euclidean
distance from each point (density), and graphs these densities as a heatmap.
Used to produce figure 1.

5. mir_conservation_levels.py - Uses a phylogeny relating species to each other
with branch lengths and mature miRNA sequences to calculate the summed branch
length over which a miRNA is conserved. Used to produce the x-axis of Figure 3A
and Figure 3B.

6. plot_miRNAs_above_threshold.py - Plots the data from mir_conservation_
levels.py. Only plots data from miRNAs conserved above a threshold level (since
many species-specific miRNAs may be spurious)

7. remove_known_motifs.py - removes any kmers corresponding to the core 6mer of
known conserved miRNAs, as well as those corresponding to pumilio sites and
polyadenylation signals. Remaining motifs are (putatively) depleted of known
functional motifs.

8. eightmer_group_vs_longest_branch_length.py - asks whether miRNAs whose
binding sites are evolving at different rates (group 1, 2, 3, or 4) are
significantly more conserved or less conserved than those whose binding sites
are part of other groups.

***************driver scripts include:***************

1. all_together.py - Runs analysis from start to finish: analyzes bed files, a
phylogeny, a list of miRNAs (generated by populate_real_mers.py), and maf
alignments. Finds longest isoforms, removes ambiguous nucleotides and indels,
converts these into a format that can be used by DNAML, runs DNAML, analyzes
substitution rates, simulates user specified replicates of artificial 3'UTRs,
and analyzes (and graphs) how quickly the 8mers are turning over relative to
other 8mers.

2. automated_alignments.py
3. automated_simulation.py
4. automated_analysis.py

5. automated_analysis_minus_perfect_8mers.py - After all_together, or
automated_alignments and automated_simulation have been run, re-analyzes the
simulation data, only considering 8mers that overlap at least one substitution
in the alignment

6. automated_analysis_AU.py - After all_together, or automated_alignments and
automated_simulation have been run, re-analyzes the simulation data, only
considering 8mers existing in a high_AU or low_AU context (specified with
'high' or 'low' in the script, and looking at the 30 bp before and after the
gene).

7. automated_analysis_conversions.py

8. all_together_minus_perfect_8mers.py - Analyzes conservation levels of miRNA
binding sites after excluding all 8mers that don't overlap at least one
mutation.
